===============================================================================
                    FLEET SIMULATOR - QUICK REFERENCE
                         Assignment 3 - AP-M2025
===============================================================================

WHAT YOU NEED TO DO:
====================

1. ORGANIZE YOUR FILES
   â”œâ”€â”€ Copy your existing project files from Assignments 1 & 2
   â”œâ”€â”€ Create new folders: Simulation/ and GUI/
   â”œâ”€â”€ Add the 3 new Java files I provided
   â””â”€â”€ Add README.md

2. COMPILE
   - Run: javac Abstract/*.java Interface/*.java myException/*.java Vehicle/*.java FleetManager/*.java Simulation/*.java GUI/*.java
   - Or use the compile_and_run script

3. TEST
   - Run: java GUI.FleetSimulatorGUI
   - Test all buttons
   - Observe race condition (sync OFF)
   - Fix race condition (sync ON)

4. CAPTURE SCREENSHOTS (4-5 Required)
   âœ“ race_condition_before.png - Show discrepancy when sync OFF
   âœ“ race_condition_after.png - Show correct behavior when sync ON
   âœ“ vehicle_refuel.png - Show refuel dialog with custom amount input
   âœ“ individual_control.png - Show vehicles in different states (running/paused/stopped)
   âœ“ global_pause_resume.png - (Optional) Show all vehicles paused

5. PACKAGE & SUBMIT
   - Create ZIP with: src/, screenshots/, README.md
   - Verify everything compiles
   - Submit before deadline


===============================================================================
NEW FILES YOU NEED TO ADD (3 FILES)
===============================================================================

ğŸ“ src/Simulation/VehicleThread.java
   - Each vehicle runs as a thread
   - Updates every 1 second (1 km traveled)
   - Manages fuel consumption
   - Updates shared highway counter

ğŸ“ src/Simulation/HighwaySimulator.java
   - Manages shared counter: highwayDistance
   - Has UNSAFE method (causes race condition)
   - Has SAFE methods (synchronized & ReentrantLock)
   - Toggle between modes

ğŸ“ src/GUI/FleetSimulatorGUI.java
   - Complete Swing GUI
   - Control buttons (Start, Pause, Resume, Stop, Sync, Reset)
   - Real-time vehicle panels with INDIVIDUAL controls
   - Statistics display with race condition detection
   - Custom refuel dialog with input validation


===============================================================================
FOLDER STRUCTURE
===============================================================================

FleetSimulator/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Abstract/           [YOUR EXISTING FILES]
â”‚   â”‚   â”œâ”€â”€ AirVehicle.java
â”‚   â”‚   â”œâ”€â”€ LandVehicle.java
â”‚   â”‚   â””â”€â”€ WaterVehicle.java
â”‚   â”‚
â”‚   â”œâ”€â”€ Interface/          [YOUR EXISTING FILES]
â”‚   â”‚   â”œâ”€â”€ CargoCarrier.java
â”‚   â”‚   â”œâ”€â”€ FuelConsumable.java
â”‚   â”‚   â”œâ”€â”€ Maintainable.java
â”‚   â”‚   â””â”€â”€ PassengerCarrier.java
â”‚   â”‚
â”‚   â”œâ”€â”€ Vehicle/            [YOUR EXISTING FILES]
â”‚   â”‚   â”œâ”€â”€ Vehicle.java
â”‚   â”‚   â”œâ”€â”€ Car.java
â”‚   â”‚   â”œâ”€â”€ Truck.java
â”‚   â”‚   â”œâ”€â”€ Bus.java
â”‚   â”‚   â”œâ”€â”€ AirPlane.java
â”‚   â”‚   â”œâ”€â”€ CargoShipFuel.java
â”‚   â”‚   â””â”€â”€ CargoShipSail.java
â”‚   â”‚
â”‚   â”œâ”€â”€ myException/        [YOUR EXISTING FILES]
â”‚   â”‚   â”œâ”€â”€ InsufficientFuelException.java
â”‚   â”‚   â”œâ”€â”€ InvalidOperationException.java
â”‚   â”‚   â””â”€â”€ OverloadException.java
â”‚   â”‚
â”‚   â”œâ”€â”€ FleetManager/       [YOUR EXISTING FILES]
â”‚   â”‚   â””â”€â”€ FleetManager.java
â”‚   â”‚
â”‚   â”œâ”€â”€ Simulation/         [NEW - ADD THESE]
â”‚   â”‚   â”œâ”€â”€ VehicleThread.java          â¬…ï¸ NEW FILE
â”‚   â”‚   â””â”€â”€ HighwaySimulator.java       â¬…ï¸ NEW FILE
â”‚   â”‚
â”‚   â”œâ”€â”€ GUI/                [NEW - ADD THIS]
â”‚   â”‚   â””â”€â”€ FleetSimulatorGUI.java      â¬…ï¸ NEW FILE
â”‚   â”‚
â”‚   â””â”€â”€ Main.java           [YOUR EXISTING FILE]
â”‚
â”œâ”€â”€ screenshots/            [CREATE & ADD YOUR SCREENSHOTS]
â”‚   â”œâ”€â”€ race_condition_before.png       â¬…ï¸ CAPTURE THIS
â”‚   â”œâ”€â”€ race_condition_after.png        â¬…ï¸ CAPTURE THIS
â”‚   â”œâ”€â”€ vehicle_refuel.png              â¬…ï¸ CAPTURE THIS (show dialog)
â”‚   â”œâ”€â”€ individual_control.png          â¬…ï¸ CAPTURE THIS (show mixed states)
â”‚   â””â”€â”€ global_pause_resume.png         â¬…ï¸ OPTIONAL
â”‚
â”œâ”€â”€ README.md               [PROVIDED]
â”œâ”€â”€ compile_and_run.bat     [PROVIDED - for Windows]
â””â”€â”€ compile_and_run.sh      [PROVIDED - for Linux/Mac]


===============================================================================
HOW TO DEMONSTRATE RACE CONDITION
===============================================================================

STEP 1: Show the Problem (Synchronization OFF)
-----------------------------------------------
1. Launch GUI: java GUI.FleetSimulatorGUI
2. Check status shows: "Synchronization: DISABLED"
3. Click "Start Simulation"
4. Wait 30-60 seconds
5. Observe:
   âœ— Shared Highway Distance: 453 km  (RED)
   âœ— Total Individual Mileage: 500 km (RED)
   âœ— Discrepancy: 47 km LOST!
6. SCREENSHOT: race_condition_before.png

EXPLANATION: Multiple threads updating shared counter without locks causes
lost updates. Some increments overwrite others.


STEP 2: Show the Solution (Synchronization ON)
-----------------------------------------------
1. Click "Enable Synchronization" button
2. Button turns GREEN
3. Status shows: "Synchronization: ENABLED"
4. Continue watching counters
5. Observe:
   âœ“ Shared Highway Distance: 500 km  (GREEN)
   âœ“ Total Individual Mileage: 500 km (BLUE)
   âœ“ Discrepancy: 0 km - Perfect match!
6. SCREENSHOT: race_condition_after.png

EXPLANATION: synchronized keyword ensures only one thread updates counter
at a time. All increments are preserved.


===============================================================================
GUI CONTROLS REFERENCE
===============================================================================

ğŸŸ¢ Start Simulation
   - Starts all vehicle threads
   - Begins 1 km/second movement for each vehicle
   - Enables Pause/Resume/Stop buttons

ğŸŸ¡ Pause All
   - Pauses all vehicles (threads still alive)
   - Vehicles show "Paused" status
   - Yellow background color

ğŸ”µ Resume All
   - Resumes all paused vehicles
   - Vehicles show "Running" status
   - Green background color

ğŸ”´ Stop Simulation
   - Stops all threads permanently
   - Cannot be restarted (must reset)
   - Vehicles show "Stopped" status

ğŸ”„ Enable/Disable Synchronization
   - OFF (RED): Race condition active, lost updates occur
   - ON (GREEN): Race condition fixed, all updates preserved

ğŸ”„ Reset Simulation
   - Stops all threads
   - Clears all counters
   - Creates new vehicles
   - Ready to start fresh

â›½ Refuel
   - Opens dialog to enter custom fuel amount
   - Supports decimal values (e.g., 125.5 liters)
   - Validates input (positive, max 500L)
   - Shows error for invalid input
   - Confirms successful refuel
   - Auto-resumes if vehicle was out-of-fuel

â¸ Pause (Individual)
   - Pauses only THIS vehicle
   - Other vehicles continue running
   - Button becomes disabled when paused
   - Resume button becomes enabled

â–¶ Resume (Individual)
   - Resumes only THIS vehicle
   - Only works if vehicle is paused
   - Button becomes disabled when running
   - Pause button becomes enabled

â¹ Stop (Individual)
   - Permanently stops only THIS vehicle
   - Cannot be restarted (must reset simulation)
   - Disables all control buttons for this vehicle
   - Other vehicles unaffected


===============================================================================
STATISTICS PANEL MEANING
===============================================================================

Shared Highway Distance
   - Sum from shared counter (all threads increment this)
   - RED when discrepancy detected (race condition)
   - GREEN when correct

Total Individual Mileage
   - Sum of each vehicle's individual mileage
   - Always accurate (no shared access)
   - RED when discrepancy detected
   - BLUE when correct

Synchronization Status
   - DISABLED (RED): Race condition is active
   - ENABLED (GREEN): Race condition is fixed


===============================================================================
VEHICLE STATUS MEANINGS
===============================================================================

Ready      - Vehicle created, not started yet
Running    - Vehicle actively traveling (green background)
Paused     - Vehicle paused by user (yellow background)
Out-of-Fuel - Vehicle stopped due to no fuel (red background)
Stopped    - Vehicle permanently stopped (gray background)


===============================================================================
COMPILATION COMMANDS
===============================================================================

Windows:
--------
cd FleetSimulator\src
javac Abstract\*.java Interface\*.java myException\*.java Vehicle\*.java FleetManager\*.java Simulation\*.java GUI\*.java
java GUI.FleetSimulatorGUI

Linux/Mac:
----------
cd FleetSimulator/src
javac Abstract/*.java Interface/*.java myException/*.java Vehicle/*.java FleetManager/*.java Simulation/*.java GUI/*.java
java GUI.FleetSimulatorGUI

Or simply:
----------
Double-click compile_and_run.bat (Windows)
Run ./compile_and_run.sh (Linux/Mac)


===============================================================================
TROUBLESHOOTING
===============================================================================

Problem: Compilation errors
Solution: Ensure all packages match directory structure
         Check package declarations in each file

Problem: GUI doesn't launch
Solution: Verify Java version (need JDK 8+)
         Run from correct directory (src/)
         Check CLASSPATH

Problem: Race condition not visible
Solution: Let simulation run longer (30-60 seconds)
         Ensure synchronization is DISABLED
         More vehicles = more visible race condition

Problem: Vehicles don't move
Solution: Click "Start Simulation" button
         Check fuel levels (refuel if needed)
         Verify not in paused state


===============================================================================
EVALUATION CHECKLIST
===============================================================================

Before submitting, verify:

Multithreading (30 points):
âœ“ At least 5 vehicles running in separate threads
âœ“ Each updates every ~1 second
âœ“ GUI controls all operations (Start/Pause/Resume/Stop)
âœ“ Real-time display updates

Race Condition (25 points):
âœ“ Visible discrepancy when synchronization OFF
âœ“ Screenshot showing lost updates (before)
âœ“ Synchronization fix implemented (synchronized or ReentrantLock)
âœ“ Screenshot showing correct behavior (after)
âœ“ Explanation in README

Integration (10 points):
âœ“ Reuses Assignment 1/2 class hierarchy
âœ“ All vehicle types functional
âœ“ Interfaces implemented correctly

Documentation (10 points):
âœ“ README.md complete with all sections
âœ“ Compilation instructions clear
âœ“ Race condition explained
âœ“ Screenshots included (4 total)


===============================================================================
IMPORTANT REMINDERS
===============================================================================

âš ï¸  DO NOT modify your existing Assignment 1/2 files
âš ï¸  DO add the 3 new files in correct packages
âš ï¸  DO capture all 4 required screenshots
âš ï¸  DO test compilation on clean system before submitting
âš ï¸  DO verify race condition is visible and fixable
âš ï¸  DO include README.md with full explanations
âš ï¸  DO submit before deadline: Nov 30, 2025 (23:59hrs)


===============================================================================
FILE CHECKLIST FOR SUBMISSION
===============================================================================

Required in ZIP file:
â–¡ src/Abstract/*.java (existing)
â–¡ src/Interface/*.java (existing)
â–¡ src/Vehicle/*.java (existing)
â–¡ src/myException/*.java (existing)
â–¡ src/FleetManager/*.java (existing)
â–¡ src/Simulation/VehicleThread.java (NEW)
â–¡ src/Simulation/HighwaySimulator.java (NEW)
â–¡ src/GUI/FleetSimulatorGUI.java (NEW)
â–¡ src/Main.java (existing)
â–¡ screenshots/race_condition_before.png
â–¡ screenshots/race_condition_after.png
â–¡ screenshots/vehicle_refuel.png
â–¡ screenshots/pause_resume.png
â–¡ README.md
â–¡ compile_and_run.bat (optional)
â–¡ compile_and_run.sh (optional)


===============================================================================
CONTACT FOR HELP
===============================================================================

If you encounter issues:
1. Re-read this QUICK_REFERENCE
2. Check README.md for detailed explanations
3. Review IMPLEMENTATION_SUMMARY.md
4. Verify file structure matches exactly
5. Test on a clean Java installation


===============================================================================
GOOD LUCK WITH YOUR SUBMISSION!
===============================================================================